server {
        listen 80;
        charset utf-8;
        server_name nginx;
        uwsgi_read_timeout 60;

        index index.html index.htm;
        location = / {
                root /usr/share/nginx/html;
        }

        location ~ ^/css/*\.(css)$ {
                root /usr/share/nginx/html;
        }

        location ~ ^/[^/]*\.(css)$ {
                root /usr/share/nginx/html/css;
        }

        location ~ ^/js/*\.(js)$ {
                root /usr/share/nginx/html;
        }

        location ~ ^/[^/]*\.(js)$ {
                root /usr/share/nginx/html/js;
        }

        location ~ ^/img/*\.(jpg|jpeg|png|gif|ico|woff|woff2|ttf)$ {
                root /usr/share/nginx/html;
        }

        location ~ ^/[^/]*\.(jpg|jpeg|png|gif|ico|woff|woff2|ttf)$ {
                root /usr/share/nginx/html/img;
        }

        location api/ {
                uwsgi_pass unix:/socket/app.sock;
                include /etc/nginx/uwsgi_params;
        }

        location / {
                root /usr/share/nginx/html;
                try_files $uri $uri/ /index.html;
        }
}